!function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return o(n?n:t)},a,a.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){!function(t,i){"use strict";"function"==typeof define&&define.amd?define([],i):"object"==typeof n?e.exports=i():t.Headroom=i()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,o,r=t||{};for(o=1;o<arguments.length;o++){var s=arguments[o]||{};for(i in s)"object"!=typeof r[i]||e(r[i])?r[i]=r[i]||s[i]:r[i]=n(r[i],s[i])}return r}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=n(e,o.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=i(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var r={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},o.prototype={constructor:o,init:function(){if(o.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},o.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard="undefined"!=typeof r&&r.rAF&&r.bind&&r.classList,o})},{}],2:[function(t,e,n){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.inView=i():t.inView=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(3),r=i(o);t.exports=r.default},function(t,e){"use strict";function n(t,e){var n=t.getBoundingClientRect(),i=n.top,o=n.right,r=n.bottom,s=n.left,u={t:r,r:window.innerWidth-s,b:window.innerHeight-i,l:o};return u.t>e.top&&u.r>e.right&&u.b>e.bottom&&u.l>e.left}Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),r=i(o),s=n(4),u=i(s),c=n(1),l=function(){var t=100,e=["scroll","resize","load"],n={history:[]},i={},o=(0,r.default)(function(){n.history.forEach(function(t){n[t].check()})},t);e.forEach(function(t){return addEventListener(t,o)}),window.MutationObserver&&new MutationObserver(o).observe(document.body,{attributes:!0,childList:!0,subtree:!0});var s=function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return n.history.indexOf(t)>-1?n[t].elements=e:(n[t]=(0,u.default)(e,i),n.history.push(t)),n[t]}};return s.offset=function(t){if(void 0===t)return i;var e=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(e(t)?function(e){return i[e]=t}:function(n){return e(t[n])?i[n]=t[n]:null}),i},s.is=function(t){return(0,c.inViewport)(t,i)},s.offset(0),s};e.default=l()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),s=function(){function t(e,n){i(this,t),this.offset=n,this.current=[],this.elements=e,this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return o(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=(0,r.inViewport)(e,t.offset),i=t.current.indexOf(e),o=i>-1,s=n&&!o,u=!n&&o;s&&(t.current.push(e),t.emit("enter",e)),u&&(t.current.splice(i,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new s(t,e)}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var i=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();t.exports=r},function(t,e,n){function i(t,e,n){function i(e){var n=g,i=b;return g=b=void 0,E=e,x=t.apply(i,n)}function a(t){return E=t,k=setTimeout(d,e),H?i(t):x}function f(t){var n=t-T,i=t-E,o=e-n;return _?l(o,y-i):o}function h(t){var n=t-T,i=t-E;return void 0===T||n>=e||n<0||_&&i>=y}function d(){var t=r();return h(t)?p(t):void(k=setTimeout(d,f(t)))}function p(t){return k=void 0,O&&g?i(t):(g=b=void 0,x)}function m(){void 0!==k&&clearTimeout(k),E=0,g=T=b=k=void 0}function v(){return void 0===k?x:p(r())}function w(){var t=r(),n=h(t);if(g=arguments,b=this,T=t,n){if(void 0===k)return a(T);if(_)return k=setTimeout(d,e),i(T)}return void 0===k&&(k=setTimeout(d,e)),x}var g,b,y,x,k,T,E=0,H=!1,_=!1,O=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,o(n)&&(H=!!n.leading,_="maxWait"in n,y=_?c(s(n.maxWait)||0,e):y,O="trailing"in n?!!n.trailing:O),w.cancel=m,w.flush=v,w}var o=n(2),r=n(8),s=n(10),u="Expected a function",c=Math.max,l=Math.min;t.exports=i},function(t,e,n){var i=n(6),o=function(){return i.Date.now()};t.exports=o},function(t,e,n){function i(t,e,n){var i=!0,u=!0;if("function"!=typeof t)throw new TypeError(s);return r(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),o(t,e,{leading:i,maxWait:e,trailing:u})}var o=n(7),r=n(2),s="Expected a function";t.exports=i},function(t,e){function n(t){return t}t.exports=n}])})},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=t("./controller/AppController"),r=i(o);new r.default},{"./controller/AppController":4}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("../modules/router"),u=i(s),c=t("./ArticleController"),l=i(c),a=t("in-view"),f=i(a),h=function(){function t(){o(this,t),this.init(),this.routes()}return r(t,[{key:"init",value:function(){var t=this;(0,f.default)("[data-lazy-bg]").on("enter",function(e){return t.replaceBg(e)})}},{key:"routes",value:function(){new u.default("articles",l.default)}},{key:"replaceBg",value:function(t){var e=t.getAttribute("data-lazy-bg");t.style.backgroundImage="url("+e+")"}}]),t}();n.default=h},{"../modules/router":6,"./ArticleController":5,"in-view":2}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("headroom.js/dist/headroom.js"),u=i(s),c=t("in-view"),l=i(c),a=function(){function t(){o(this,t),this.startPosY=0,this.latestViewChange=0,this.instanciateStickyBars(),this.scrollSlider()}return r(t,[{key:"scrollSlider",value:function(){var t=this,e=(document.querySelectorAll(".fl-content__img"),document.querySelector(".fl-view__inner")),n=new l.default(".fl-content__img");n.on("enter",function(i,o){var r=i.getAttribute("data-src");window.innerWidth>768?(i!=n.elements[0]&&t.initParallax(),t.setViewBg(r,e)):i.src=r})}},{key:"setViewBg",value:function(t,e){e.style.backgroundImage="url("+t+")"}},{key:"instanciateStickyBars",value:function(){var t=document.querySelector(".fl-bar.fl-bar--top"),e=document.querySelector(".fl-bar.fl-bar--bottom"),n={tolerance:{down:10,up:0}},i=new u.default(t,n),o=new u.default(e,n);i.init(),o.init()}},{key:"initParallax",value:function(){this.startPosY=window.scrollY,window.addEventListener("scroll",this.parallaxView)}},{key:"destroyParallax",value:function(){window.removeEventListener("scroll",this.parallaxView())}},{key:"parallaxView",value:function(){}}]),t}();n.default=a},{"headroom.js/dist/headroom.js":1,"in-view":2}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){i(this,t),this.pathMatch(e)&&this.loadModule(n)}return o(t,[{key:"pathMatch",value:function(t){var e=!1,n=window.location.pathname.split("/");return n=n.length<2?"/":n[2],n===t&&(e=!0),e}},{key:"loadModule",value:function(t){new t}}]),t}();n.default=r},{}]},{},[3]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvaGVhZHJvb20uanMvZGlzdC9oZWFkcm9vbS5qcyIsIm5vZGVfbW9kdWxlcy9pbi12aWV3L2Rpc3QvaW4tdmlldy5taW4uanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9hcHAuanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9jb250cm9sbGVyL0FwcENvbnRyb2xsZXIuanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9jb250cm9sbGVyL0FydGljbGVDb250cm9sbGVyLmpzIiwidGhlbWVzL2ZsaXAvc291cmNlL19qcy9jbGllbnQvbW9kdWxlcy9yb3V0ZXIuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJIZWFkcm9vbSIsInRoaXMiLCJEZWJvdW5jZXIiLCJjYWxsYmFjayIsInRpY2tpbmciLCJpc0RPTUVsZW1lbnQiLCJvYmoiLCJ3aW5kb3ciLCJub2RlVHlwZSIsImV4dGVuZCIsIm9iamVjdCIsImFyZ3VtZW50cyIsImtleSIsInJlc3VsdCIsInJlcGxhY2VtZW50Iiwibm9ybWFsaXplVG9sZXJhbmNlIiwiT2JqZWN0IiwiZG93biIsInVwIiwiZWxlbSIsIm9wdGlvbnMiLCJsYXN0S25vd25TY3JvbGxZIiwidG9sZXJhbmNlIiwiY2xhc3NlcyIsIm9mZnNldCIsInNjcm9sbGVyIiwiaW5pdGlhbGlzZWQiLCJvblBpbiIsIm9uVW5waW4iLCJvblRvcCIsIm9uTm90VG9wIiwib25Cb3R0b20iLCJvbk5vdEJvdHRvbSIsImZlYXR1cmVzIiwiYmluZCIsImNsYXNzTGlzdCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwickFGIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ1cGRhdGUiLCJyZXF1ZXN0VGljayIsInJhZkNhbGxiYWNrIiwiaGFuZGxlRXZlbnQiLCJpbml0IiwiY3V0c1RoZU11c3RhcmQiLCJkZWJvdW5jZXIiLCJhZGQiLCJpbml0aWFsIiwic2V0VGltZW91dCIsImF0dGFjaEV2ZW50IiwiZGVzdHJveSIsInJlbW92ZSIsInVucGlubmVkIiwicGlubmVkIiwidG9wIiwibm90VG9wIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldFNjcm9sbFkiLCJhZGRFdmVudExpc3RlbmVyIiwidW5waW4iLCJjb250YWlucyIsInBpbiIsImJvdHRvbSIsIm5vdEJvdHRvbSIsInVuZGVmaW5lZCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiYm9keSIsInBhcmVudE5vZGUiLCJnZXRWaWV3cG9ydEhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZ2V0RWxlbWVudFBoeXNpY2FsSGVpZ2h0IiwiZWxtIiwiTWF0aCIsIm1heCIsIm9mZnNldEhlaWdodCIsImdldFNjcm9sbGVyUGh5c2ljYWxIZWlnaHQiLCJnZXREb2N1bWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEVsZW1lbnRIZWlnaHQiLCJnZXRTY3JvbGxlckhlaWdodCIsImlzT3V0T2ZCb3VuZHMiLCJjdXJyZW50U2Nyb2xsWSIsInBhc3RUb3AiLCJwYXN0Qm90dG9tIiwidG9sZXJhbmNlRXhjZWVkZWQiLCJkaXJlY3Rpb24iLCJhYnMiLCJzaG91bGRVbnBpbiIsInNjcm9sbGluZ0Rvd24iLCJwYXN0T2Zmc2V0Iiwic2hvdWxkUGluIiwic2Nyb2xsaW5nVXAiLCJzY3JvbGxEaXJlY3Rpb24iLCJpblZpZXciLCJpZCIsImxvYWRlZCIsIm0iLCJjIiwicCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsImIiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiaW5WaWV3cG9ydCIsImhpc3RvcnkiLCJmb3JFYWNoIiwiY2hlY2siLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXhPZiIsImVsZW1lbnRzIiwicHVzaCIsImlzIiwiVHlwZUVycm9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiY3VycmVudCIsImhhbmRsZXJzIiwiZW50ZXIiLCJleGl0Iiwic2luZ2xlcyIsImVtaXQiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwicG9wIiwic2VsZiIsIkZ1bmN0aW9uIiwieCIsIkUiLCJ3IiwiYXBwbHkiLCJqIiwiaCIsIl8iLCJPIiwiTSIsImciLCJkIiwiVCIsInYiLCJjbGVhclRpbWVvdXQiLCJ5IiwibGVhZGluZyIsIm1heFdhaXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImZsdXNoIiwibWluIiwiRGF0ZSIsIm5vdyIsIl9BcHBDb250cm9sbGVyIiwiX0FwcENvbnRyb2xsZXIyIiwiX3JvdXRlciIsIl9BcnRpY2xlQ29udHJvbGxlciIsIl9pblZpZXciLCJBcHBDb250cm9sbGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwicm91dGVzIiwiX3RoaXMiLCJfaW5WaWV3MiIsIm9uIiwiZWwiLCJyZXBsYWNlQmciLCJfcm91dGVyMiIsIl9BcnRpY2xlQ29udHJvbGxlcjIiLCJ0YXJnZXQiLCJkYXRhIiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJfaGVhZHJvb20iLCJBcnRpY2xlQ29udHJvbGxlciIsInN0YXJ0UG9zWSIsImxhdGVzdFZpZXdDaGFuZ2UiLCJpbnN0YW5jaWF0ZVN0aWNreUJhcnMiLCJzY3JvbGxTbGlkZXIiLCJ2aWV3IiwicXVlcnlTZWxlY3RvciIsIml0ZW1zIiwic3JjIiwiaW5pdFBhcmFsbGF4Iiwic2V0Vmlld0JnIiwiaGVhZGVyIiwiZm9vdGVyIiwiaGVhZHJvb21PcHRpb25zIiwic3RpY2t5SGVhZGVyIiwiX2hlYWRyb29tMiIsInN0aWNreUZvb3RlciIsInNjcm9sbFkiLCJwYXJhbGxheFZpZXciLCJSb3V0ZXJNb2R1bGUiLCJtYXRjaCIsInBhdGhNYXRjaCIsImxvYWRNb2R1bGUiLCJtYXRjaGVzIiwicGF0aCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzcGxpdCJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxFQUFBLE1BQUFBLEdBQUFKLEdBQUEsRUFBQSxJQUFBSyxHQUFBLEdBQUFDLE9BQUEsdUJBQUFOLEVBQUEsSUFBQSxNQUFBSyxHQUFBRSxLQUFBLG1CQUFBRixFQUFBLEdBQUFHLEdBQUFYLEVBQUFHLElBQUFTLFdBQUFiLEdBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLEdBQUFFLEdBQUFELEVBQUFJLEdBQUEsR0FBQUwsRUFBQSxPQUFBSSxHQUFBRixFQUFBQSxFQUFBRixJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE1BQUFELEdBQUFHLEdBQUFTLFFBQUEsSUFBQSxHQUFBTCxHQUFBLGtCQUFBRCxVQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLEdBQUEsT0FBQUQsS0FBQWEsR0FBQSxTQUFBVCxFQUFBVSxFQUFBSixJQ01BLFNBQUFLLEVBQUFD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LDBCQUNoQ08sR0FDTHBMLFdBQ0NMLEtBQU8sR0FDUEMsR0FBSyxJQUdIeUwsRUFBZSxHQUFBQyxHQUFBakcsUUFBYTZGLEVBQVFFLEdBQ3BDRyxFQUFlLEdBQUFELEdBQUFqRyxRQUFhOEYsRUFBUUMsRUFDeENDLEdBQWEzSixPQUNiNkosRUFBYTdKLDhDQUliL0MsS0FBSzZMLFVBQVl2TCxPQUFPdU0sUUFDeEJ2TSxPQUFPd0QsaUJBQWlCLFNBQVU5RCxLQUFLOE0sd0RBSXZDeE0sT0FBT3NELG9CQUFvQixTQUFVNUQsS0FBSzhNLDJFQXBEdkJsQiwyZENIQW1CLGFBQ3BCLFFBQUFBLEdBQVlDLEVBQU90TixHQUFRbUwsRUFBQTdLLEtBQUErTSxHQUN0Qi9NLEtBQUtpTixVQUFVRCxJQUNsQmhOLEtBQUtrTixXQUFXeE4sK0NBSVJzTixHQUNULEdBQUlHLElBQVUsRUFDVkMsRUFBTzlNLE9BQU8rTSxTQUFTQyxTQUFTQyxNQUFNLElBWTFDLE9BVENILEdBREdBLEVBQUs1TixPQUFTLEVBQ1YsSUFFQTROLEVBQUssR0FHVEEsSUFBU0osSUFDWkcsR0FBVSxHQUdKQSxxQ0FHR3pOLEdBQ1YsR0FBSUEsc0JBekJlcU4iLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG4gKiBoZWFkcm9vbS5qcyB2MC45LjMgLSBHaXZlIHlvdXIgcGFnZSBzb21lIGhlYWRyb29tLiBIaWRlIHlvdXIgaGVhZGVyIHVudGlsIHlvdSBuZWVkIGl0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgTmljayBXaWxsaWFtcyAtIGh0dHA6Ly93aWNreS5uaWxsaWEubXMvaGVhZHJvb20uanNcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gQ09NTU9OSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBCUk9XU0VSXG4gICAgcm9vdC5IZWFkcm9vbSA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIGV4cG9ydGVkIGZlYXR1cmVzICovXG4gIFxuICB2YXIgZmVhdHVyZXMgPSB7XG4gICAgYmluZCA6ICEhKGZ1bmN0aW9uKCl7fS5iaW5kKSxcbiAgICBjbGFzc0xpc3QgOiAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgckFGIDogISEod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gIH07XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgXG4gIC8qKlxuICAgKiBIYW5kbGVzIGRlYm91bmNpbmcgb2YgZXZlbnRzIHZpYSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICogQHNlZSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9zcGVlZC9hbmltYXRpb25zL1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaGFuZGxlIHdoaWNoZXZlciBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24gRGVib3VuY2VyIChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgfVxuICBEZWJvdW5jZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yIDogRGVib3VuY2VyLFxuICBcbiAgICAvKipcbiAgICAgKiBkaXNwYXRjaGVzIHRoZSBldmVudCB0byB0aGUgc3VwcGxpZWQgY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBlbnN1cmVzIGV2ZW50cyBkb24ndCBnZXQgc3RhY2tlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVxdWVzdFRpY2sgOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmQ2FsbGJhY2sgfHwgKHRoaXMucmFmQ2FsbGJhY2sgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSk7XG4gICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoaXMgYXMgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50IDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlcXVlc3RUaWNrKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIHBhcnQgb2YgdGhlIERPTVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBlbGVtZW50IHRvIGNoZWNrXG4gICAqL1xuICBmdW5jdGlvbiBpc0RPTUVsZW1lbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAob2JqID09PSB3aW5kb3cgfHwgb2JqLm5vZGVUeXBlKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZXh0ZW5kaW5nIG9iamVjdHNcbiAgICovXG4gIGZ1bmN0aW9uIGV4dGVuZCAob2JqZWN0IC8qLCBvYmplY3ROIC4uLiAqLykge1xuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGFyZ3VtZW50cyBpbiBleHRlbmQgZnVuY3Rpb24nKTtcbiAgICB9XG4gIFxuICAgIHZhciByZXN1bHQgPSBvYmplY3QgfHwge30sXG4gICAgICAgIGtleSxcbiAgICAgICAgaTtcbiAgXG4gICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gYXJndW1lbnRzW2ldIHx8IHt9O1xuICBcbiAgICAgIGZvciAoa2V5IGluIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIC8vIFJlY3Vyc2UgaW50byBvYmplY3QgZXhjZXB0IGlmIHRoZSBvYmplY3QgaXMgYSBET00gZWxlbWVudFxuICAgICAgICBpZih0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmICEgaXNET01FbGVtZW50KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gZXh0ZW5kKHJlc3VsdFtrZXldLCByZXBsYWNlbWVudFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHJlc3VsdFtrZXldIHx8IHJlcGxhY2VtZW50W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIG5vcm1hbGl6aW5nIHRvbGVyYW5jZSBvcHRpb24gdG8gb2JqZWN0IGZvcm1hdFxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplVG9sZXJhbmNlICh0KSB7XG4gICAgcmV0dXJuIHQgPT09IE9iamVjdCh0KSA/IHQgOiB7IGRvd24gOiB0LCB1cCA6IHQgfTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFVJIGVuaGFuY2VtZW50IGZvciBmaXhlZCBoZWFkZXJzLlxuICAgKiBIaWRlcyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgZG93blxuICAgKiBTaG93cyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgdXBcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbSB0aGUgaGVhZGVyIGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3B0aW9ucyBmb3IgdGhlIHdpZGdldFxuICAgKi9cbiAgZnVuY3Rpb24gSGVhZHJvb20gKGVsZW0sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMsIEhlYWRyb29tLm9wdGlvbnMpO1xuICBcbiAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSAwO1xuICAgIHRoaXMuZWxlbSAgICAgICAgICAgICA9IGVsZW07XG4gICAgdGhpcy50b2xlcmFuY2UgICAgICAgID0gbm9ybWFsaXplVG9sZXJhbmNlKG9wdGlvbnMudG9sZXJhbmNlKTtcbiAgICB0aGlzLmNsYXNzZXMgICAgICAgICAgPSBvcHRpb25zLmNsYXNzZXM7XG4gICAgdGhpcy5vZmZzZXQgICAgICAgICAgID0gb3B0aW9ucy5vZmZzZXQ7XG4gICAgdGhpcy5zY3JvbGxlciAgICAgICAgID0gb3B0aW9ucy5zY3JvbGxlcjtcbiAgICB0aGlzLmluaXRpYWxpc2VkICAgICAgPSBmYWxzZTtcbiAgICB0aGlzLm9uUGluICAgICAgICAgICAgPSBvcHRpb25zLm9uUGluO1xuICAgIHRoaXMub25VbnBpbiAgICAgICAgICA9IG9wdGlvbnMub25VbnBpbjtcbiAgICB0aGlzLm9uVG9wICAgICAgICAgICAgPSBvcHRpb25zLm9uVG9wO1xuICAgIHRoaXMub25Ob3RUb3AgICAgICAgICA9IG9wdGlvbnMub25Ob3RUb3A7XG4gICAgdGhpcy5vbkJvdHRvbSAgICAgICAgID0gb3B0aW9ucy5vbkJvdHRvbTtcbiAgICB0aGlzLm9uTm90Qm90dG9tICAgICAgPSBvcHRpb25zLm9uTm90Qm90dG9tO1xuICB9XG4gIEhlYWRyb29tLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvciA6IEhlYWRyb29tLFxuICBcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlcyB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgaW5pdCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIUhlYWRyb29tLmN1dHNUaGVNdXN0YXJkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmRlYm91bmNlciA9IG5ldyBEZWJvdW5jZXIodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuaW5pdGlhbCk7XG4gIFxuICAgICAgLy8gZGVmZXIgZXZlbnQgcmVnaXN0cmF0aW9uIHRvIGhhbmRsZSBicm93c2VyIFxuICAgICAgLy8gcG90ZW50aWFsbHkgcmVzdG9yaW5nIHByZXZpb3VzIHNjcm9sbCBwb3NpdGlvblxuICAgICAgc2V0VGltZW91dCh0aGlzLmF0dGFjaEV2ZW50LmJpbmQodGhpcyksIDEwMCk7XG4gIFxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogVW5hdHRhY2hlcyBldmVudHMgYW5kIHJlbW92ZXMgYW55IGNsYXNzZXMgdGhhdCB3ZXJlIGFkZGVkXG4gICAgICovXG4gICAgZGVzdHJveSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gIFxuICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy51bnBpbm5lZCwgY2xhc3Nlcy5waW5uZWQsIGNsYXNzZXMudG9wLCBjbGFzc2VzLm5vdFRvcCwgY2xhc3Nlcy5pbml0aWFsKTtcbiAgICAgIHRoaXMuc2Nyb2xsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgc2Nyb2xsIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhdHRhY2hFdmVudCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIXRoaXMuaW5pdGlhbGlzZWQpe1xuICAgICAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSB0aGlzLmdldFNjcm9sbFkoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgXG4gICAgICAgIHRoaXMuZGVib3VuY2VyLmhhbmRsZUV2ZW50KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBVbnBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSBwaW5uZWRcbiAgICAgKi9cbiAgICB1bnBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnBpbm5lZCkgfHwgIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblVucGluICYmIHRoaXMub25VbnBpbi5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIFBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSB1bnBpbm5lZFxuICAgICAqL1xuICAgIHBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblBpbiAmJiB0aGlzLm9uUGluLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgdG9wIHN0YXRlc1xuICAgICAqL1xuICAgIHRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy50b3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy50b3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubm90VG9wKTtcbiAgICAgICAgdGhpcy5vblRvcCAmJiB0aGlzLm9uVG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgbm90IHRvcCBzdGF0ZVxuICAgICAqL1xuICAgIG5vdFRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy5ub3RUb3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5ub3RUb3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudG9wKTtcbiAgICAgICAgdGhpcy5vbk5vdFRvcCAmJiB0aGlzLm9uTm90VG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgYm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLmJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLmJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ub3RCb3R0b20pO1xuICAgICAgICB0aGlzLm9uQm90dG9tICYmIHRoaXMub25Cb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBub3QgdG9wIHN0YXRlXG4gICAgICovXG4gICAgbm90Qm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLm5vdEJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLm5vdEJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ib3R0b20pO1xuICAgICAgICB0aGlzLm9uTm90Qm90dG9tICYmIHRoaXMub25Ob3RCb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBZIHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy5zY3JvbGxZXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBwaXhlbHMgdGhlIHBhZ2UgaGFzIHNjcm9sbGVkIGFsb25nIHRoZSBZLWF4aXNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxZIDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc2Nyb2xsZXIucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnBhZ2VZT2Zmc2V0XG4gICAgICAgIDogKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvcFxuICAgICAgICAgIDogKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAc2VlIGh0dHA6Ly9hbmR5bGFuZ3Rvbi5jby51ay9ibG9nL2RldmVsb3BtZW50L2dldC12aWV3cG9ydC1zaXplLXdpZHRoLWFuZC1oZWlnaHQtamF2YXNjcmlwdFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0Vmlld3BvcnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGh5c2ljYWwgaGVpZ2h0IG9mIHRoZSBET00gZWxlbWVudFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGVsbSB0aGUgZWxlbWVudCB0byBjYWxjdWxhdGUgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB3aGljaFxuICAgICAqIEByZXR1cm4ge2ludH0gICAgIHRoZSBwaHlzaWNhbCBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RWxlbWVudFBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlclBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnNjcm9sbGVyID09PSB3aW5kb3cgfHwgdGhpcy5zY3JvbGxlciA9PT0gZG9jdW1lbnQuYm9keSlcbiAgICAgICAgPyB0aGlzLmdldFZpZXdwb3J0SGVpZ2h0KClcbiAgICAgICAgOiB0aGlzLmdldEVsZW1lbnRQaHlzaWNhbEhlaWdodCh0aGlzLnNjcm9sbGVyKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50XG4gICAgICogQHNlZSBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvZ2V0LWRvY3VtZW50LWhlaWdodC1jcm9zcy1icm93c2VyL1xuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RG9jdW1lbnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBcbiAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIGJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIERPTSBlbGVtZW50XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxtIHRoZSBlbGVtZW50IHRvIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHdoaWNoXG4gICAgICogQHJldHVybiB7aW50fSAgICAgdGhlIGhlaWdodCBvZiB0aGUgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50SGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0uc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlckhlaWdodCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcy5zY3JvbGxlciA9PT0gd2luZG93IHx8IHRoaXMuc2Nyb2xsZXIgPT09IGRvY3VtZW50LmJvZHkpXG4gICAgICAgID8gdGhpcy5nZXREb2N1bWVudEhlaWdodCgpXG4gICAgICAgIDogdGhpcy5nZXRFbGVtZW50SGVpZ2h0KHRoaXMuc2Nyb2xsZXIpO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIGRldGVybWluZXMgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIGRvY3VtZW50IGJvdW5kYXJpZXNcbiAgICAgKiBAcGFyYW0gIHtpbnR9ICBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgb3V0IG9mIGJvdW5kcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNPdXRPZkJvdW5kcyA6IGZ1bmN0aW9uIChjdXJyZW50U2Nyb2xsWSkge1xuICAgICAgdmFyIHBhc3RUb3AgID0gY3VycmVudFNjcm9sbFkgPCAwLFxuICAgICAgICBwYXN0Qm90dG9tID0gY3VycmVudFNjcm9sbFkgKyB0aGlzLmdldFNjcm9sbGVyUGh5c2ljYWxIZWlnaHQoKSA+IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHBhc3RUb3AgfHwgcGFzdEJvdHRvbTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBkZXRlcm1pbmVzIGlmIHRoZSB0b2xlcmFuY2UgaGFzIGJlZW4gZXhjZWVkZWRcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGN1cnJlbnRTY3JvbGxZIHRoZSBjdXJyZW50IHNjcm9sbCB5IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiB0b2xlcmFuY2UgZXhjZWVkZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHRvbGVyYW5jZUV4Y2VlZGVkIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCBkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhjdXJyZW50U2Nyb2xsWS10aGlzLmxhc3RLbm93blNjcm9sbFkpID49IHRoaXMudG9sZXJhbmNlW2RpcmVjdGlvbl07XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHVucGluXG4gICAgICogQHBhcmFtICB7aW50fSBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSAge2Jvb2x9IHRvbGVyYW5jZUV4Y2VlZGVkIGhhcyB0aGUgdG9sZXJhbmNlIGJlZW4gZXhjZWVkZWQ/XG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBzaG91bGQgdW5waW4sIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHNob3VsZFVucGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ0Rvd24gPSBjdXJyZW50U2Nyb2xsWSA+IHRoaXMubGFzdEtub3duU2Nyb2xsWSxcbiAgICAgICAgcGFzdE9mZnNldCA9IGN1cnJlbnRTY3JvbGxZID49IHRoaXMub2Zmc2V0O1xuICBcbiAgICAgIHJldHVybiBzY3JvbGxpbmdEb3duICYmIHBhc3RPZmZzZXQgJiYgdG9sZXJhbmNlRXhjZWVkZWQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHBpblxuICAgICAqIEBwYXJhbSAge2ludH0gY3VycmVudFNjcm9sbFkgdGhlIGN1cnJlbnQgeSBzY3JvbGwgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gIHtib29sfSB0b2xlcmFuY2VFeGNlZWRlZCBoYXMgdGhlIHRvbGVyYW5jZSBiZWVuIGV4Y2VlZGVkP1xuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgc2hvdWxkIHBpbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgc2hvdWxkUGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1VwICA9IGN1cnJlbnRTY3JvbGxZIDwgdGhpcy5sYXN0S25vd25TY3JvbGxZLFxuICAgICAgICBwYXN0T2Zmc2V0ID0gY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQ7XG4gIFxuICAgICAgcmV0dXJuIChzY3JvbGxpbmdVcCAmJiB0b2xlcmFuY2VFeGNlZWRlZCkgfHwgcGFzdE9mZnNldDtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgdXBkYXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFNjcm9sbFkgID0gdGhpcy5nZXRTY3JvbGxZKCksXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IGN1cnJlbnRTY3JvbGxZID4gdGhpcy5sYXN0S25vd25TY3JvbGxZID8gJ2Rvd24nIDogJ3VwJyxcbiAgICAgICAgdG9sZXJhbmNlRXhjZWVkZWQgPSB0aGlzLnRvbGVyYW5jZUV4Y2VlZGVkKGN1cnJlbnRTY3JvbGxZLCBzY3JvbGxEaXJlY3Rpb24pO1xuICBcbiAgICAgIGlmKHRoaXMuaXNPdXRPZkJvdW5kcyhjdXJyZW50U2Nyb2xsWSkpIHsgLy8gSWdub3JlIGJvdW5jeSBzY3JvbGxpbmcgaW4gT1NYXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQgKSB7XG4gICAgICAgIHRoaXMudG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5vdFRvcCgpO1xuICAgICAgfVxuICBcbiAgICAgIGlmKGN1cnJlbnRTY3JvbGxZICsgdGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpID49IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKSkge1xuICAgICAgICB0aGlzLmJvdHRvbSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubm90Qm90dG9tKCk7XG4gICAgICB9XG4gIFxuICAgICAgaWYodGhpcy5zaG91bGRVbnBpbihjdXJyZW50U2Nyb2xsWSwgdG9sZXJhbmNlRXhjZWVkZWQpKSB7XG4gICAgICAgIHRoaXMudW5waW4oKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGhpcy5zaG91bGRQaW4oY3VycmVudFNjcm9sbFksIHRvbGVyYW5jZUV4Y2VlZGVkKSkge1xuICAgICAgICB0aGlzLnBpbigpO1xuICAgICAgfVxuICBcbiAgICAgIHRoaXMubGFzdEtub3duU2Nyb2xsWSA9IGN1cnJlbnRTY3JvbGxZO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9uc1xuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgSGVhZHJvb20ub3B0aW9ucyA9IHtcbiAgICB0b2xlcmFuY2UgOiB7XG4gICAgICB1cCA6IDAsXG4gICAgICBkb3duIDogMFxuICAgIH0sXG4gICAgb2Zmc2V0IDogMCxcbiAgICBzY3JvbGxlcjogd2luZG93LFxuICAgIGNsYXNzZXMgOiB7XG4gICAgICBwaW5uZWQgOiAnaGVhZHJvb20tLXBpbm5lZCcsXG4gICAgICB1bnBpbm5lZCA6ICdoZWFkcm9vbS0tdW5waW5uZWQnLFxuICAgICAgdG9wIDogJ2hlYWRyb29tLS10b3AnLFxuICAgICAgbm90VG9wIDogJ2hlYWRyb29tLS1ub3QtdG9wJyxcbiAgICAgIGJvdHRvbSA6ICdoZWFkcm9vbS0tYm90dG9tJyxcbiAgICAgIG5vdEJvdHRvbSA6ICdoZWFkcm9vbS0tbm90LWJvdHRvbScsXG4gICAgICBpbml0aWFsIDogJ2hlYWRyb29tJ1xuICAgIH1cbiAgfTtcbiAgSGVhZHJvb20uY3V0c1RoZU11c3RhcmQgPSB0eXBlb2YgZmVhdHVyZXMgIT09ICd1bmRlZmluZWQnICYmIGZlYXR1cmVzLnJBRiAmJiBmZWF0dXJlcy5iaW5kICYmIGZlYXR1cmVzLmNsYXNzTGlzdDtcblxuICByZXR1cm4gSGVhZHJvb207XG59KSk7IiwiLyohXG4gKiBpbi12aWV3IDAuNC4zIC0gR2V0IG5vdGlmaWVkIHdoZW4gYSBET00gZWxlbWVudCBlbnRlcnMgb3IgZXhpdHMgdGhlIHZpZXdwb3J0LlxuICogQ29weXJpZ2h0IChjKSAyMDE2IENhbSBXaWVnZXJ0IDxjYW1AY2Ftd2llZ2VydC5jb20+IC0gaHR0cHM6Ly9jYW13aWVnZXJ0LmdpdGh1Yi5pby9pbi12aWV3XG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pblZpZXc9ZSgpOnQuaW5WaWV3PWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgaT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxlKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBpPW4oMyksbz1yKGkpO3QuZXhwb3J0cz1vW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPW4udG9wLGk9bi5yaWdodCxvPW4uYm90dG9tLHU9bi5sZWZ0LGY9e3Q6byxyOndpbmRvdy5pbm5lcldpZHRoLXUsYjp3aW5kb3cuaW5uZXJIZWlnaHQtcixsOml9O3JldHVybiBmLnQ+ZS50b3AmJmYucj5lLnJpZ2h0JiZmLmI+ZS5ib3R0b20mJmYubD5lLmxlZnR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5pblZpZXdwb3J0PW59LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4hIXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oOSksbz1yKGkpLHU9big0KSxmPXIodSksYz1uKDEpLHM9ZnVuY3Rpb24oKXt2YXIgdD0xMDAsZT1bXCJzY3JvbGxcIixcInJlc2l6ZVwiLFwibG9hZFwiXSxuPXtoaXN0b3J5OltdfSxyPXt9LGk9KDAsb1tcImRlZmF1bHRcIl0pKGZ1bmN0aW9uKCl7bi5oaXN0b3J5LmZvckVhY2goZnVuY3Rpb24odCl7blt0XS5jaGVjaygpfSl9LHQpO2UuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih0LGkpfSksd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyBNdXRhdGlvbk9ic2VydmVyKGkpLm9ic2VydmUoZG9jdW1lbnQuYm9keSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pO3ZhciB1PWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT1bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCkpO3JldHVybiBuLmhpc3RvcnkuaW5kZXhPZih0KT4tMT9uW3RdLmVsZW1lbnRzPWU6KG5bdF09KDAsZltcImRlZmF1bHRcIl0pKGUsciksbi5oaXN0b3J5LnB1c2godCkpLG5bdF19fTtyZXR1cm4gdS5vZmZzZXQ9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dClyZXR1cm4gcjt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdH07cmV0dXJuW1widG9wXCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJsZWZ0XCJdLmZvckVhY2goZSh0KT9mdW5jdGlvbihlKXtyZXR1cm4gcltlXT10fTpmdW5jdGlvbihuKXtyZXR1cm4gZSh0W25dKT9yW25dPXRbbl06bnVsbH0pLHJ9LHUuaXM9ZnVuY3Rpb24odCl7cmV0dXJuKDAsYy5pblZpZXdwb3J0KSh0LHIpfSx1Lm9mZnNldCgwKSx1fTtlW1wiZGVmYXVsdFwiXT1zKCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLG89bigxKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3IodGhpcyx0KSx0aGlzLm9mZnNldD1uLHRoaXMuY3VycmVudD1bXSx0aGlzLmVsZW1lbnRzPWUsdGhpcy5oYW5kbGVycz17ZW50ZXI6W10sZXhpdDpbXX0sdGhpcy5zaW5nbGVzPXtlbnRlcjpbXSxleGl0OltdfX1yZXR1cm4gaSh0LFt7a2V5OlwiY2hlY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj0oMCxvLmluVmlld3BvcnQpKGUsdC5vZmZzZXQpLHI9dC5jdXJyZW50LmluZGV4T2YoZSksaT1yPi0xLHU9biYmIWksZj0hbiYmaTt1JiYodC5jdXJyZW50LnB1c2goZSksdC5lbWl0KFwiZW50ZXJcIixlKSksZiYmKHQuY3VycmVudC5zcGxpY2UociwxKSx0LmVtaXQoXCJleGl0XCIsZSkpfSksdGhpc319LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFuZGxlcnNbdF0ucHVzaChlKSx0aGlzfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNpbmdsZXNbdF0udW5zaGlmdChlKSx0aGlzfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcig7dGhpcy5zaW5nbGVzW3RdLmxlbmd0aDspdGhpcy5zaW5nbGVzW3RdLnBvcCgpKGUpO2Zvcih2YXIgbj10aGlzLmhhbmRsZXJzW3RdLmxlbmd0aDstLW4+LTE7KXRoaXMuaGFuZGxlcnNbdF1bbl0oZSk7cmV0dXJuIHRoaXN9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHUodCxlKX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNSksaT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbz1yfHxpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtmdW5jdGlvbiByKGUpe3ZhciBuPW0scj14O3JldHVybiBtPXg9dm9pZCAwLEU9ZSx3PXQuYXBwbHkocixuKX1mdW5jdGlvbiBhKHQpe3JldHVybiBFPXQsaj1zZXRUaW1lb3V0KGgsZSksXz9yKHQpOnd9ZnVuY3Rpb24gbCh0KXt2YXIgbj10LU8scj10LUUsaT1lLW47cmV0dXJuIE0/cyhpLGctcik6aX1mdW5jdGlvbiBkKHQpe3ZhciBuPXQtTyxyPXQtRTtyZXR1cm4gdm9pZCAwPT09T3x8bj49ZXx8bjwwfHxNJiZyPj1nfWZ1bmN0aW9uIGgoKXt2YXIgdD1vKCk7cmV0dXJuIGQodCk/cCh0KTp2b2lkKGo9c2V0VGltZW91dChoLGwodCkpKX1mdW5jdGlvbiBwKHQpe3JldHVybiBqPXZvaWQgMCxUJiZtP3IodCk6KG09eD12b2lkIDAsdyl9ZnVuY3Rpb24gdigpe3ZvaWQgMCE9PWomJmNsZWFyVGltZW91dChqKSxFPTAsbT1PPXg9aj12b2lkIDB9ZnVuY3Rpb24geSgpe3JldHVybiB2b2lkIDA9PT1qP3c6cChvKCkpfWZ1bmN0aW9uIGIoKXt2YXIgdD1vKCksbj1kKHQpO2lmKG09YXJndW1lbnRzLHg9dGhpcyxPPXQsbil7aWYodm9pZCAwPT09ailyZXR1cm4gYShPKTtpZihNKXJldHVybiBqPXNldFRpbWVvdXQoaCxlKSxyKE8pfXJldHVybiB2b2lkIDA9PT1qJiYoaj1zZXRUaW1lb3V0KGgsZSkpLHd9dmFyIG0seCxnLHcsaixPLEU9MCxfPSExLE09ITEsVD0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoZik7cmV0dXJuIGU9dShlKXx8MCxpKG4pJiYoXz0hIW4ubGVhZGluZyxNPVwibWF4V2FpdFwiaW4gbixnPU0/Yyh1KG4ubWF4V2FpdCl8fDAsZSk6ZyxUPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOlQpLGIuY2FuY2VsPXYsYi5mbHVzaD15LGJ9dmFyIGk9bigyKSxvPW4oOCksdT1uKDEwKSxmPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGM9TWF0aC5tYXgscz1NYXRoLm1pbjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksaT1mdW5jdGlvbigpe3JldHVybiByLkRhdGUubm93KCl9O3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9ITAsZj0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IodSk7cmV0dXJuIG8obikmJihyPVwibGVhZGluZ1wiaW4gbj8hIW4ubGVhZGluZzpyLGY9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6ZiksaSh0LGUse2xlYWRpbmc6cixtYXhXYWl0OmUsdHJhaWxpbmc6Zn0pfXZhciBpPW4oNyksbz1uKDIpLHU9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCI7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH10LmV4cG9ydHM9bn1dKX0pOyIsImltcG9ydCBBcHBDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9BcHBDb250cm9sbGVyJztcblxubmV3IEFwcENvbnRyb2xsZXIoKTtcbiIsImltcG9ydCBSb3V0ZXJNb2R1bGUgZnJvbSAnLi4vbW9kdWxlcy9yb3V0ZXInO1xuaW1wb3J0IEFydGljbGVDb250cm9sbGVyIGZyb20gJy4vQXJ0aWNsZUNvbnRyb2xsZXInO1xuaW1wb3J0IGluVmlldyBmcm9tICdpbi12aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwQ29udHJvbGxlciB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuaW5pdCgpO1xuXHRcdHRoaXMucm91dGVzKCk7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdC8vIExhenkgbG9hZCBiYWNrZ3JvdW5kc1xuXHRcdGluVmlldygnW2RhdGEtbGF6eS1iZ10nKVxuXHRcdFx0Lm9uKCdlbnRlcicsIGVsID0+IHRoaXMucmVwbGFjZUJnKGVsKSk7XG5cdH1cblxuXHRyb3V0ZXMoKSB7XG5cdFx0bmV3IFJvdXRlck1vZHVsZSgnYXJ0aWNsZXMnLCBBcnRpY2xlQ29udHJvbGxlcik7XG5cdH1cblxuXHRyZXBsYWNlQmcodGFyZ2V0KSB7XG5cdFx0dmFyIGRhdGEgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWxhenktYmcnKTtcblx0XHR0YXJnZXQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBkYXRhICsgXCIpXCI7XG5cdH1cbn0iLCJpbXBvcnQgSGVhZHJvb20gZnJvbSAnaGVhZHJvb20uanMvZGlzdC9oZWFkcm9vbS5qcyc7XG5pbXBvcnQgaW5WaWV3IGZyb20gJ2luLXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnRpY2xlQ29udHJvbGxlciB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc3RhcnRQb3NZID0gMDtcblx0XHR0aGlzLmxhdGVzdFZpZXdDaGFuZ2UgPSAwO1xuXG5cdFx0dGhpcy5pbnN0YW5jaWF0ZVN0aWNreUJhcnMoKTtcblx0XHR0aGlzLnNjcm9sbFNsaWRlcigpO1xuXHR9XG5cblx0c2Nyb2xsU2xpZGVyKCkge1xuXHRcdGNvbnN0IGFydGljbGVJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmwtY29udGVudF9faW1nJyk7XG5cdFx0Y29uc3QgdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbC12aWV3X19pbm5lcicpO1xuXHRcdGNvbnN0IGl0ZW1zID0gbmV3IGluVmlldygnLmZsLWNvbnRlbnRfX2ltZycpO1xuXHRcdGl0ZW1zXG5cdFx0Lm9uKCdlbnRlcicsIChlbCwgaSkgPT4ge1xuXHRcdFx0Y29uc3Qgc3JjID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0aWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNzY4KSB7XG5cdFx0XHRcdGlmIChlbCAhPSBpdGVtcy5lbGVtZW50c1swXSkge1xuXHRcdFx0XHRcdHRoaXMuaW5pdFBhcmFsbGF4KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zZXRWaWV3Qmcoc3JjLCB2aWV3KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsLnNyYyA9IHNyYztcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHNldFZpZXdCZyhzcmMsIHZpZXcpIHtcblx0XHR2aWV3LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtzcmN9KWA7XG5cdH1cblxuXHRpbnN0YW5jaWF0ZVN0aWNreUJhcnMoKSB7XG5cdFx0Y29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZsLWJhci5mbC1iYXItLXRvcCcpO1xuXHRcdGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbC1iYXIuZmwtYmFyLS1ib3R0b20nKTtcblx0XHRjb25zdCBoZWFkcm9vbU9wdGlvbnMgPSB7XG5cdFx0XHR0b2xlcmFuY2UgOiB7XG5cdFx0XHRcdGRvd24gOiAxMCxcblx0XHRcdFx0dXAgOiAwXG5cdFx0XHR9LFxuXHRcdH07XG5cdFx0bGV0IHN0aWNreUhlYWRlciA9IG5ldyBIZWFkcm9vbShoZWFkZXIsIGhlYWRyb29tT3B0aW9ucyk7XG5cdFx0bGV0IHN0aWNreUZvb3RlciA9IG5ldyBIZWFkcm9vbShmb290ZXIsIGhlYWRyb29tT3B0aW9ucyk7XG5cdFx0c3RpY2t5SGVhZGVyLmluaXQoKTtcblx0XHRzdGlja3lGb290ZXIuaW5pdCgpO1xuXHR9XG5cblx0aW5pdFBhcmFsbGF4KCkge1xuXHRcdHRoaXMuc3RhcnRQb3NZID0gd2luZG93LnNjcm9sbFk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucGFyYWxsYXhWaWV3KTtcblx0fVxuXG5cdGRlc3Ryb3lQYXJhbGxheCgpIHtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wYXJhbGxheFZpZXcoKSk7XG5cdH1cblxuXHRwYXJhbGxheFZpZXcoKSB7XG5cdFx0Ly8gY29uc29sZS5sb2cod2luZG93LnNjcm9sbFkpO1xuXHR9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyTW9kdWxlIHtcblx0Y29uc3RydWN0b3IobWF0Y2gsIG1vZHVsZSkge1xuXHRcdGlmICh0aGlzLnBhdGhNYXRjaChtYXRjaCkpIHtcblx0XHRcdHRoaXMubG9hZE1vZHVsZShtb2R1bGUpO1xuXHRcdH1cblx0fVxuXG5cdHBhdGhNYXRjaChtYXRjaCkge1xuXHRcdHZhciBtYXRjaGVzID0gZmFsc2U7XG5cdFx0dmFyIHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKTtcblxuXHRcdGlmIChwYXRoLmxlbmd0aCA8IDIpIHtcblx0XHRcdHBhdGggPSAnLyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhdGggPSBwYXRoWzJdXG5cdFx0fVxuXG5cdFx0aWYgKHBhdGggPT09IG1hdGNoKSB7XG5cdFx0XHRtYXRjaGVzID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fVxuXG5cdGxvYWRNb2R1bGUobW9kdWxlKSB7XG5cdFx0bmV3IG1vZHVsZTtcblx0fVxufSJdfQ==
