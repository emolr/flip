!function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t)},a,a.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){!function(t,o){"use strict";"function"==typeof define&&define.amd?define([],o):"object"==typeof n?e.exports=o():t.Headroom=o()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var o,i,r=t||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(o in s)"object"!=typeof r[o]||e(r[o])?r[o]=r[o]||s[o]:r[o]=n(r[o],s[o])}return r}function o(t){return t===Object(t)?t:{down:t,up:t}}function i(t,e){e=n(e,i.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=o(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var r={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){if(i.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,o=t>=this.offset;return n&&o&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,o=t<=this.offset;return n&&e||o},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},i.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard="undefined"!=typeof r&&r.rAF&&r.bind&&r.classList,i})},{}],2:[function(t,e,n){!function(t,o){"object"==typeof n&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.inView=o():t.inView=o()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(3),r=o(i);t.exports=r.default},function(t,e){"use strict";function n(t,e){var n=t.getBoundingClientRect(),o=n.top,i=n.right,r=n.bottom,s=n.left,u={t:r,r:window.innerWidth-s,b:window.innerHeight-o,l:i};return u.t>e.top&&u.r>e.right&&u.b>e.bottom&&u.l>e.left}Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=o(i),s=n(4),u=o(s),c=n(1),l=function(){var t=100,e=["scroll","resize","load"],n={history:[]},o={},i=(0,r.default)(function(){n.history.forEach(function(t){n[t].check()})},t);e.forEach(function(t){return addEventListener(t,i)}),window.MutationObserver&&new MutationObserver(i).observe(document.body,{attributes:!0,childList:!0,subtree:!0});var s=function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return n.history.indexOf(t)>-1?n[t].elements=e:(n[t]=(0,u.default)(e,o),n.history.push(t)),n[t]}};return s.offset=function(t){if(void 0===t)return o;var e=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(e(t)?function(e){return o[e]=t}:function(n){return e(t[n])?o[n]=t[n]:null}),o},s.is=function(t){return(0,c.inViewport)(t,o)},s.offset(0),s};e.default=l()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),s=function(){function t(e,n){o(this,t),this.offset=n,this.current=[],this.elements=e,this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return i(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=(0,r.inViewport)(e,t.offset),o=t.current.indexOf(e),i=o>-1,s=n&&!i,u=!n&&i;s&&(t.current.push(e),t.emit("enter",e)),u&&(t.current.splice(o,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new s(t,e)}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var o=n(5),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},function(t,e,n){function o(t,e,n){function o(e){var n=b,o=w;return b=w=void 0,E=e,x=t.apply(o,n)}function a(t){return E=t,T=setTimeout(d,e),_?o(t):x}function f(t){var n=t-k,o=t-E,i=e-n;return H?l(i,y-o):i}function h(t){var n=t-k,o=t-E;return void 0===k||n>=e||n<0||H&&o>=y}function d(){var t=r();return h(t)?p(t):void(T=setTimeout(d,f(t)))}function p(t){return T=void 0,O&&b?o(t):(b=w=void 0,x)}function m(){void 0!==T&&clearTimeout(T),E=0,b=k=w=T=void 0}function v(){return void 0===T?x:p(r())}function g(){var t=r(),n=h(t);if(b=arguments,w=this,k=t,n){if(void 0===T)return a(k);if(H)return T=setTimeout(d,e),o(k)}return void 0===T&&(T=setTimeout(d,e)),x}var b,w,y,x,T,k,E=0,_=!1,H=!1,O=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,i(n)&&(_=!!n.leading,H="maxWait"in n,y=H?c(s(n.maxWait)||0,e):y,O="trailing"in n?!!n.trailing:O),g.cancel=m,g.flush=v,g}var i=n(2),r=n(8),s=n(10),u="Expected a function",c=Math.max,l=Math.min;t.exports=o},function(t,e,n){var o=n(6),i=function(){return o.Date.now()};t.exports=i},function(t,e,n){function o(t,e,n){var o=!0,u=!0;if("function"!=typeof t)throw new TypeError(s);return r(n)&&(o="leading"in n?!!n.leading:o,u="trailing"in n?!!n.trailing:u),i(t,e,{leading:o,maxWait:e,trailing:u})}var i=n(7),r=n(2),s="Expected a function";t.exports=o},function(t,e){function n(t){return t}t.exports=n}])})},{}],3:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=t("./controller/AppController"),r=o(i);new r.default},{"./controller/AppController":4}],4:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=t("../modules/router"),u=o(s),c=t("./ArticleController"),l=o(c),a=t("in-view"),f=o(a),h=function(){function t(){i(this,t),this.init(),this.routes()}return r(t,[{key:"init",value:function(){var t=this;(0,f.default)("[data-lazy-bg]").on("enter",function(e){return t.replaceBg(e)})}},{key:"routes",value:function(){new u.default("articles",l.default)}},{key:"replaceBg",value:function(t){var e=t.getAttribute("data-lazy-bg");t.style.backgroundImage="url("+e}}]),t}();n.default=h},{"../modules/router":6,"./ArticleController":5,"in-view":2}],5:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=t("headroom.js/dist/headroom.js"),u=o(s),c=t("in-view"),l=o(c),a=function(){function t(){i(this,t),this.instanciateStickyBars(),this.scrollSlider()}return r(t,[{key:"scrollSlider",value:function(){var t=this,e=(document.querySelectorAll(".fl-content__img"),document.querySelector(".fl-article-layout__left__view")),n=new l.default(".fl-content__img");console.log(n),n.on("enter",function(n,o){console.log(n,"i",o);var i=n.getAttribute("data-src");t.setViewBg(i,e)})}},{key:"setViewBg",value:function(t,e){e.style.backgroundImage="url("+t+")"}},{key:"instanciateStickyBars",value:function(){var t=document.querySelector(".fl-bar.fl-bar--top"),e=document.querySelector(".fl-bar.fl-bar--bottom"),n={tolerance:{down:10,up:0}},o=new u.default(t,n),i=new u.default(e,n);o.init(),i.init()}}]),t}();n.default=a},{"headroom.js/dist/headroom.js":1,"in-view":2}],6:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n){o(this,t),this.pathMatch(e)&&this.loadModule(n)}return i(t,[{key:"pathMatch",value:function(t){var e=!1,n=window.location.pathname.split("/");return n=n.length<2?"/":n[2],n===t&&(e=!0),e}},{key:"loadModule",value:function(t){new t}}]),t}();n.default=r},{}]},{},[3]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvaGVhZHJvb20uanMvZGlzdC9oZWFkcm9vbS5qcyIsIm5vZGVfbW9kdWxlcy9pbi12aWV3L2Rpc3QvaW4tdmlldy5taW4uanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9hcHAuanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9jb250cm9sbGVyL0FwcENvbnRyb2xsZXIuanMiLCJ0aGVtZXMvZmxpcC9zb3VyY2UvX2pzL2NsaWVudC9jb250cm9sbGVyL0FydGljbGVDb250cm9sbGVyLmpzIiwidGhlbWVzL2ZsaXAvc291cmNlL19qcy9jbGllbnQvbW9kdWxlcy9yb3V0ZXIuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJIZWFkcm9vbSIsInRoaXMiLCJEZWJvdW5jZXIiLCJjYWxsYmFjayIsInRpY2tpbmciLCJpc0RPTUVsZW1lbnQiLCJvYmoiLCJ3aW5kb3ciLCJub2RlVHlwZSIsImV4dGVuZCIsIm9iamVjdCIsImFyZ3VtZW50cyIsImtleSIsInJlc3VsdCIsInJlcGxhY2VtZW50Iiwibm9ybWFsaXplVG9sZXJhbmNlIiwiT2JqZWN0IiwiZG93biIsInVwIiwiZWxlbSIsIm9wdGlvbnMiLCJsYXN0S25vd25TY3JvbGxZIiwidG9sZXJhbmNlIiwiY2xhc3NlcyIsIm9mZnNldCIsInNjcm9sbGVyIiwiaW5pdGlhbGlzZWQiLCJvblBpbiIsIm9uVW5waW4iLCJvblRvcCIsIm9uTm90VG9wIiwib25Cb3R0b20iLCJvbk5vdEJvdHRvbSIsImZlYXR1cmVzIiwiYmluZCIsImNsYXNzTGlzdCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwickFGIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ1cGRhdGUiLCJyZXF1ZXN0VGljayIsInJhZkNhbGxiYWNrIiwiaGFuZGxlRXZlbnQiLCJpbml0IiwiY3V0c1RoZU11c3RhcmQiLCJkZWJvdW5jZXIiLCJhZGQiLCJpbml0aWFsIiwic2V0VGltZW91dCIsImF0dGFjaEV2ZW50IiwiZGVzdHJveSIsInJlbW92ZSIsInVucGlubmVkIiwicGlubmVkIiwidG9wIiwibm90VG9wIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldFNjcm9sbFkiLCJhZGRFdmVudExpc3RlbmVyIiwidW5waW4iLCJjb250YWlucyIsInBpbiIsImJvdHRvbSIsIm5vdEJvdHRvbSIsInVuZGVmaW5lZCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiYm9keSIsInBhcmVudE5vZGUiLCJnZXRWaWV3cG9ydEhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZ2V0RWxlbWVudFBoeXNpY2FsSGVpZ2h0IiwiZWxtIiwiTWF0aCIsIm1heCIsIm9mZnNldEhlaWdodCIsImdldFNjcm9sbGVyUGh5c2ljYWxIZWlnaHQiLCJnZXREb2N1bWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEVsZW1lbnRIZWlnaHQiLCJnZXRTY3JvbGxlckhlaWdodCIsImlzT3V0T2ZCb3VuZHMiLCJjdXJyZW50U2Nyb2xsWSIsInBhc3RUb3AiLCJwYXN0Qm90dG9tIiwidG9sZXJhbmNlRXhjZWVkZWQiLCJkaXJlY3Rpb24iLCJhYnMiLCJzaG91bGRVbnBpbiIsInNjcm9sbGluZ0Rvd24iLCJwYXN0T2Zmc2V0Iiwic2hvdWxkUGluIiwic2Nyb2xsaW5nVXAiLCJzY3JvbGxEaXJlY3Rpb24iLCJpblZpZXciLCJpZCIsImxvYWRlZCIsIm0iLCJjIiwicCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsImIiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiaW5WaWV3cG9ydCIsImhpc3RvcnkiLCJmb3JFYWNoIiwiY2hlY2siLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXhPZiIsImVsZW1lbnRzIiwicHVzaCIsImlzIiwiVHlwZUVycm9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiY3VycmVudCIsImhhbmRsZXJzIiwiZW50ZXIiLCJleGl0Iiwic2luZ2xlcyIsImVtaXQiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwicG9wIiwic2VsZiIsIkZ1bmN0aW9uIiwieCIsIkUiLCJ3IiwiYXBwbHkiLCJqIiwiaCIsIl8iLCJPIiwiTSIsImciLCJkIiwiVCIsInYiLCJjbGVhclRpbWVvdXQiLCJ5IiwibGVhZGluZyIsIm1heFdhaXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImZsdXNoIiwibWluIiwiRGF0ZSIsIm5vdyIsIl9BcHBDb250cm9sbGVyIiwiX0FwcENvbnRyb2xsZXIyIiwiX3JvdXRlciIsIl9BcnRpY2xlQ29udHJvbGxlciIsIl9pblZpZXciLCJBcHBDb250cm9sbGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwicm91dGVzIiwiX3RoaXMiLCJfaW5WaWV3MiIsIm9uIiwiZWwiLCJyZXBsYWNlQmciLCJfcm91dGVyMiIsIl9BcnRpY2xlQ29udHJvbGxlcjIiLCJ0YXJnZXQiLCJkYXRhIiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJfaGVhZHJvb20iLCJBcnRpY2xlQ29udHJvbGxlciIsImluc3RhbmNpYXRlU3RpY2t5QmFycyIsInNjcm9sbFNsaWRlciIsInZpZXciLCJxdWVyeVNlbGVjdG9yIiwiaXRlbXMiLCJjb25zb2xlIiwibG9nIiwic3JjIiwic2V0Vmlld0JnIiwiaGVhZGVyIiwiZm9vdGVyIiwiaGVhZHJvb21PcHRpb25zIiwic3RpY2t5SGVhZGVyIiwiX2hlYWRyb29tMiIsInN0aWNreUZvb3RlciIsIlJvdXRlck1vZHVsZSIsIm1hdGNoIiwicGF0aE1hdGNoIiwibG9hZE1vZHVsZSIsIm1hdGNoZXMiLCJwYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNwbGl0Il0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFBQSxHQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxHQUFBRSxHQUFBLGtCQUFBQyxVQUFBQSxPQUFBLEtBQUFGLEdBQUFDLEVBQUEsTUFBQUEsR0FBQUYsR0FBQSxFQUFBLElBQUFJLEVBQUEsTUFBQUEsR0FBQUosR0FBQSxFQUFBLElBQUFLLEdBQUEsR0FBQUMsT0FBQSx1QkFBQU4sRUFBQSxJQUFBLE1BQUFLLEdBQUFFLEtBQUEsbUJBQUFGLEVBQUEsR0FBQUcsR0FBQVgsRUFBQUcsSUFBQVMsV0FBQWIsR0FBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsR0FBQUUsR0FBQUQsRUFBQUksR0FBQSxHQUFBTCxFQUFBLE9BQUFJLEdBQUFGLEVBQUFBLEVBQUFGLElBQUFhLEVBQUFBLEVBQUFDLFFBQUFkLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsTUFBQUQsR0FBQUcsR0FBQVMsUUFBQSxJQUFBLEdBQUFMLEdBQUEsa0JBQUFELFVBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQWEsT0FBQVgsSUFBQUQsRUFBQUQsRUFBQUUsR0FBQSxPQUFBRCxLQUFBYSxHQUFBLFNBQUFULEVBQUFVLEVBQUFKLElDTUEsU0FBQUssRUFBQUMsR0FDQSxZQUVBLG1CQUFBQyxTQUFBQSxPQUFBQyxJQUVBRCxVQUFBRCxHQUVBLGdCQUFBTixH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LEVBQWE1SiwwQkFuQ002SSwyZENIQWdCLGFBQ3BCLFFBQUFBLEdBQVlDLEVBQU9uTixHQUFRbUwsRUFBQTdLLEtBQUE0TSxHQUN0QjVNLEtBQUs4TSxVQUFVRCxJQUNsQjdNLEtBQUsrTSxXQUFXck4sK0NBSVJtTixHQUNULEdBQUlHLElBQVUsRUFDVkMsRUFBTzNNLE9BQU80TSxTQUFTQyxTQUFTQyxNQUFNLElBWTFDLE9BVENILEdBREdBLEVBQUt6TixPQUFTLEVBQ1YsSUFFQXlOLEVBQUssR0FHVEEsSUFBU0osSUFDWkcsR0FBVSxHQUdKQSxxQ0FHR3ROLEdBQ1YsR0FBSUEsc0JBekJla04iLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG4gKiBoZWFkcm9vbS5qcyB2MC45LjMgLSBHaXZlIHlvdXIgcGFnZSBzb21lIGhlYWRyb29tLiBIaWRlIHlvdXIgaGVhZGVyIHVudGlsIHlvdSBuZWVkIGl0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgTmljayBXaWxsaWFtcyAtIGh0dHA6Ly93aWNreS5uaWxsaWEubXMvaGVhZHJvb20uanNcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gQ09NTU9OSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBCUk9XU0VSXG4gICAgcm9vdC5IZWFkcm9vbSA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIGV4cG9ydGVkIGZlYXR1cmVzICovXG4gIFxuICB2YXIgZmVhdHVyZXMgPSB7XG4gICAgYmluZCA6ICEhKGZ1bmN0aW9uKCl7fS5iaW5kKSxcbiAgICBjbGFzc0xpc3QgOiAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgckFGIDogISEod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gIH07XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgXG4gIC8qKlxuICAgKiBIYW5kbGVzIGRlYm91bmNpbmcgb2YgZXZlbnRzIHZpYSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICogQHNlZSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9zcGVlZC9hbmltYXRpb25zL1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaGFuZGxlIHdoaWNoZXZlciBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24gRGVib3VuY2VyIChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgfVxuICBEZWJvdW5jZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yIDogRGVib3VuY2VyLFxuICBcbiAgICAvKipcbiAgICAgKiBkaXNwYXRjaGVzIHRoZSBldmVudCB0byB0aGUgc3VwcGxpZWQgY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBlbnN1cmVzIGV2ZW50cyBkb24ndCBnZXQgc3RhY2tlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVxdWVzdFRpY2sgOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmQ2FsbGJhY2sgfHwgKHRoaXMucmFmQ2FsbGJhY2sgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSk7XG4gICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoaXMgYXMgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50IDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlcXVlc3RUaWNrKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIHBhcnQgb2YgdGhlIERPTVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBlbGVtZW50IHRvIGNoZWNrXG4gICAqL1xuICBmdW5jdGlvbiBpc0RPTUVsZW1lbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAob2JqID09PSB3aW5kb3cgfHwgb2JqLm5vZGVUeXBlKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZXh0ZW5kaW5nIG9iamVjdHNcbiAgICovXG4gIGZ1bmN0aW9uIGV4dGVuZCAob2JqZWN0IC8qLCBvYmplY3ROIC4uLiAqLykge1xuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGFyZ3VtZW50cyBpbiBleHRlbmQgZnVuY3Rpb24nKTtcbiAgICB9XG4gIFxuICAgIHZhciByZXN1bHQgPSBvYmplY3QgfHwge30sXG4gICAgICAgIGtleSxcbiAgICAgICAgaTtcbiAgXG4gICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gYXJndW1lbnRzW2ldIHx8IHt9O1xuICBcbiAgICAgIGZvciAoa2V5IGluIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIC8vIFJlY3Vyc2UgaW50byBvYmplY3QgZXhjZXB0IGlmIHRoZSBvYmplY3QgaXMgYSBET00gZWxlbWVudFxuICAgICAgICBpZih0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmICEgaXNET01FbGVtZW50KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gZXh0ZW5kKHJlc3VsdFtrZXldLCByZXBsYWNlbWVudFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHJlc3VsdFtrZXldIHx8IHJlcGxhY2VtZW50W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIG5vcm1hbGl6aW5nIHRvbGVyYW5jZSBvcHRpb24gdG8gb2JqZWN0IGZvcm1hdFxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplVG9sZXJhbmNlICh0KSB7XG4gICAgcmV0dXJuIHQgPT09IE9iamVjdCh0KSA/IHQgOiB7IGRvd24gOiB0LCB1cCA6IHQgfTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFVJIGVuaGFuY2VtZW50IGZvciBmaXhlZCBoZWFkZXJzLlxuICAgKiBIaWRlcyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgZG93blxuICAgKiBTaG93cyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgdXBcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbSB0aGUgaGVhZGVyIGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3B0aW9ucyBmb3IgdGhlIHdpZGdldFxuICAgKi9cbiAgZnVuY3Rpb24gSGVhZHJvb20gKGVsZW0sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMsIEhlYWRyb29tLm9wdGlvbnMpO1xuICBcbiAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSAwO1xuICAgIHRoaXMuZWxlbSAgICAgICAgICAgICA9IGVsZW07XG4gICAgdGhpcy50b2xlcmFuY2UgICAgICAgID0gbm9ybWFsaXplVG9sZXJhbmNlKG9wdGlvbnMudG9sZXJhbmNlKTtcbiAgICB0aGlzLmNsYXNzZXMgICAgICAgICAgPSBvcHRpb25zLmNsYXNzZXM7XG4gICAgdGhpcy5vZmZzZXQgICAgICAgICAgID0gb3B0aW9ucy5vZmZzZXQ7XG4gICAgdGhpcy5zY3JvbGxlciAgICAgICAgID0gb3B0aW9ucy5zY3JvbGxlcjtcbiAgICB0aGlzLmluaXRpYWxpc2VkICAgICAgPSBmYWxzZTtcbiAgICB0aGlzLm9uUGluICAgICAgICAgICAgPSBvcHRpb25zLm9uUGluO1xuICAgIHRoaXMub25VbnBpbiAgICAgICAgICA9IG9wdGlvbnMub25VbnBpbjtcbiAgICB0aGlzLm9uVG9wICAgICAgICAgICAgPSBvcHRpb25zLm9uVG9wO1xuICAgIHRoaXMub25Ob3RUb3AgICAgICAgICA9IG9wdGlvbnMub25Ob3RUb3A7XG4gICAgdGhpcy5vbkJvdHRvbSAgICAgICAgID0gb3B0aW9ucy5vbkJvdHRvbTtcbiAgICB0aGlzLm9uTm90Qm90dG9tICAgICAgPSBvcHRpb25zLm9uTm90Qm90dG9tO1xuICB9XG4gIEhlYWRyb29tLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvciA6IEhlYWRyb29tLFxuICBcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlcyB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgaW5pdCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIUhlYWRyb29tLmN1dHNUaGVNdXN0YXJkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmRlYm91bmNlciA9IG5ldyBEZWJvdW5jZXIodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuaW5pdGlhbCk7XG4gIFxuICAgICAgLy8gZGVmZXIgZXZlbnQgcmVnaXN0cmF0aW9uIHRvIGhhbmRsZSBicm93c2VyIFxuICAgICAgLy8gcG90ZW50aWFsbHkgcmVzdG9yaW5nIHByZXZpb3VzIHNjcm9sbCBwb3NpdGlvblxuICAgICAgc2V0VGltZW91dCh0aGlzLmF0dGFjaEV2ZW50LmJpbmQodGhpcyksIDEwMCk7XG4gIFxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogVW5hdHRhY2hlcyBldmVudHMgYW5kIHJlbW92ZXMgYW55IGNsYXNzZXMgdGhhdCB3ZXJlIGFkZGVkXG4gICAgICovXG4gICAgZGVzdHJveSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gIFxuICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy51bnBpbm5lZCwgY2xhc3Nlcy5waW5uZWQsIGNsYXNzZXMudG9wLCBjbGFzc2VzLm5vdFRvcCwgY2xhc3Nlcy5pbml0aWFsKTtcbiAgICAgIHRoaXMuc2Nyb2xsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgc2Nyb2xsIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhdHRhY2hFdmVudCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIXRoaXMuaW5pdGlhbGlzZWQpe1xuICAgICAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSB0aGlzLmdldFNjcm9sbFkoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgXG4gICAgICAgIHRoaXMuZGVib3VuY2VyLmhhbmRsZUV2ZW50KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBVbnBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSBwaW5uZWRcbiAgICAgKi9cbiAgICB1bnBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnBpbm5lZCkgfHwgIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblVucGluICYmIHRoaXMub25VbnBpbi5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIFBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSB1bnBpbm5lZFxuICAgICAqL1xuICAgIHBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblBpbiAmJiB0aGlzLm9uUGluLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgdG9wIHN0YXRlc1xuICAgICAqL1xuICAgIHRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy50b3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy50b3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubm90VG9wKTtcbiAgICAgICAgdGhpcy5vblRvcCAmJiB0aGlzLm9uVG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgbm90IHRvcCBzdGF0ZVxuICAgICAqL1xuICAgIG5vdFRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy5ub3RUb3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5ub3RUb3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudG9wKTtcbiAgICAgICAgdGhpcy5vbk5vdFRvcCAmJiB0aGlzLm9uTm90VG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgYm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLmJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLmJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ub3RCb3R0b20pO1xuICAgICAgICB0aGlzLm9uQm90dG9tICYmIHRoaXMub25Cb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBub3QgdG9wIHN0YXRlXG4gICAgICovXG4gICAgbm90Qm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLm5vdEJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLm5vdEJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ib3R0b20pO1xuICAgICAgICB0aGlzLm9uTm90Qm90dG9tICYmIHRoaXMub25Ob3RCb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBZIHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy5zY3JvbGxZXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBwaXhlbHMgdGhlIHBhZ2UgaGFzIHNjcm9sbGVkIGFsb25nIHRoZSBZLWF4aXNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxZIDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc2Nyb2xsZXIucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnBhZ2VZT2Zmc2V0XG4gICAgICAgIDogKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvcFxuICAgICAgICAgIDogKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAc2VlIGh0dHA6Ly9hbmR5bGFuZ3Rvbi5jby51ay9ibG9nL2RldmVsb3BtZW50L2dldC12aWV3cG9ydC1zaXplLXdpZHRoLWFuZC1oZWlnaHQtamF2YXNjcmlwdFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0Vmlld3BvcnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGh5c2ljYWwgaGVpZ2h0IG9mIHRoZSBET00gZWxlbWVudFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGVsbSB0aGUgZWxlbWVudCB0byBjYWxjdWxhdGUgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB3aGljaFxuICAgICAqIEByZXR1cm4ge2ludH0gICAgIHRoZSBwaHlzaWNhbCBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RWxlbWVudFBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlclBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnNjcm9sbGVyID09PSB3aW5kb3cgfHwgdGhpcy5zY3JvbGxlciA9PT0gZG9jdW1lbnQuYm9keSlcbiAgICAgICAgPyB0aGlzLmdldFZpZXdwb3J0SGVpZ2h0KClcbiAgICAgICAgOiB0aGlzLmdldEVsZW1lbnRQaHlzaWNhbEhlaWdodCh0aGlzLnNjcm9sbGVyKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50XG4gICAgICogQHNlZSBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvZ2V0LWRvY3VtZW50LWhlaWdodC1jcm9zcy1icm93c2VyL1xuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RG9jdW1lbnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBcbiAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIGJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIERPTSBlbGVtZW50XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxtIHRoZSBlbGVtZW50IHRvIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHdoaWNoXG4gICAgICogQHJldHVybiB7aW50fSAgICAgdGhlIGhlaWdodCBvZiB0aGUgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50SGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0uc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlckhlaWdodCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcy5zY3JvbGxlciA9PT0gd2luZG93IHx8IHRoaXMuc2Nyb2xsZXIgPT09IGRvY3VtZW50LmJvZHkpXG4gICAgICAgID8gdGhpcy5nZXREb2N1bWVudEhlaWdodCgpXG4gICAgICAgIDogdGhpcy5nZXRFbGVtZW50SGVpZ2h0KHRoaXMuc2Nyb2xsZXIpO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIGRldGVybWluZXMgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIGRvY3VtZW50IGJvdW5kYXJpZXNcbiAgICAgKiBAcGFyYW0gIHtpbnR9ICBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgb3V0IG9mIGJvdW5kcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNPdXRPZkJvdW5kcyA6IGZ1bmN0aW9uIChjdXJyZW50U2Nyb2xsWSkge1xuICAgICAgdmFyIHBhc3RUb3AgID0gY3VycmVudFNjcm9sbFkgPCAwLFxuICAgICAgICBwYXN0Qm90dG9tID0gY3VycmVudFNjcm9sbFkgKyB0aGlzLmdldFNjcm9sbGVyUGh5c2ljYWxIZWlnaHQoKSA+IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHBhc3RUb3AgfHwgcGFzdEJvdHRvbTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBkZXRlcm1pbmVzIGlmIHRoZSB0b2xlcmFuY2UgaGFzIGJlZW4gZXhjZWVkZWRcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGN1cnJlbnRTY3JvbGxZIHRoZSBjdXJyZW50IHNjcm9sbCB5IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiB0b2xlcmFuY2UgZXhjZWVkZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHRvbGVyYW5jZUV4Y2VlZGVkIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCBkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhjdXJyZW50U2Nyb2xsWS10aGlzLmxhc3RLbm93blNjcm9sbFkpID49IHRoaXMudG9sZXJhbmNlW2RpcmVjdGlvbl07XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHVucGluXG4gICAgICogQHBhcmFtICB7aW50fSBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSAge2Jvb2x9IHRvbGVyYW5jZUV4Y2VlZGVkIGhhcyB0aGUgdG9sZXJhbmNlIGJlZW4gZXhjZWVkZWQ/XG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBzaG91bGQgdW5waW4sIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHNob3VsZFVucGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ0Rvd24gPSBjdXJyZW50U2Nyb2xsWSA+IHRoaXMubGFzdEtub3duU2Nyb2xsWSxcbiAgICAgICAgcGFzdE9mZnNldCA9IGN1cnJlbnRTY3JvbGxZID49IHRoaXMub2Zmc2V0O1xuICBcbiAgICAgIHJldHVybiBzY3JvbGxpbmdEb3duICYmIHBhc3RPZmZzZXQgJiYgdG9sZXJhbmNlRXhjZWVkZWQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHBpblxuICAgICAqIEBwYXJhbSAge2ludH0gY3VycmVudFNjcm9sbFkgdGhlIGN1cnJlbnQgeSBzY3JvbGwgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gIHtib29sfSB0b2xlcmFuY2VFeGNlZWRlZCBoYXMgdGhlIHRvbGVyYW5jZSBiZWVuIGV4Y2VlZGVkP1xuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgc2hvdWxkIHBpbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgc2hvdWxkUGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1VwICA9IGN1cnJlbnRTY3JvbGxZIDwgdGhpcy5sYXN0S25vd25TY3JvbGxZLFxuICAgICAgICBwYXN0T2Zmc2V0ID0gY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQ7XG4gIFxuICAgICAgcmV0dXJuIChzY3JvbGxpbmdVcCAmJiB0b2xlcmFuY2VFeGNlZWRlZCkgfHwgcGFzdE9mZnNldDtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgdXBkYXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFNjcm9sbFkgID0gdGhpcy5nZXRTY3JvbGxZKCksXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IGN1cnJlbnRTY3JvbGxZID4gdGhpcy5sYXN0S25vd25TY3JvbGxZID8gJ2Rvd24nIDogJ3VwJyxcbiAgICAgICAgdG9sZXJhbmNlRXhjZWVkZWQgPSB0aGlzLnRvbGVyYW5jZUV4Y2VlZGVkKGN1cnJlbnRTY3JvbGxZLCBzY3JvbGxEaXJlY3Rpb24pO1xuICBcbiAgICAgIGlmKHRoaXMuaXNPdXRPZkJvdW5kcyhjdXJyZW50U2Nyb2xsWSkpIHsgLy8gSWdub3JlIGJvdW5jeSBzY3JvbGxpbmcgaW4gT1NYXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQgKSB7XG4gICAgICAgIHRoaXMudG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5vdFRvcCgpO1xuICAgICAgfVxuICBcbiAgICAgIGlmKGN1cnJlbnRTY3JvbGxZICsgdGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpID49IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKSkge1xuICAgICAgICB0aGlzLmJvdHRvbSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubm90Qm90dG9tKCk7XG4gICAgICB9XG4gIFxuICAgICAgaWYodGhpcy5zaG91bGRVbnBpbihjdXJyZW50U2Nyb2xsWSwgdG9sZXJhbmNlRXhjZWVkZWQpKSB7XG4gICAgICAgIHRoaXMudW5waW4oKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGhpcy5zaG91bGRQaW4oY3VycmVudFNjcm9sbFksIHRvbGVyYW5jZUV4Y2VlZGVkKSkge1xuICAgICAgICB0aGlzLnBpbigpO1xuICAgICAgfVxuICBcbiAgICAgIHRoaXMubGFzdEtub3duU2Nyb2xsWSA9IGN1cnJlbnRTY3JvbGxZO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9uc1xuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgSGVhZHJvb20ub3B0aW9ucyA9IHtcbiAgICB0b2xlcmFuY2UgOiB7XG4gICAgICB1cCA6IDAsXG4gICAgICBkb3duIDogMFxuICAgIH0sXG4gICAgb2Zmc2V0IDogMCxcbiAgICBzY3JvbGxlcjogd2luZG93LFxuICAgIGNsYXNzZXMgOiB7XG4gICAgICBwaW5uZWQgOiAnaGVhZHJvb20tLXBpbm5lZCcsXG4gICAgICB1bnBpbm5lZCA6ICdoZWFkcm9vbS0tdW5waW5uZWQnLFxuICAgICAgdG9wIDogJ2hlYWRyb29tLS10b3AnLFxuICAgICAgbm90VG9wIDogJ2hlYWRyb29tLS1ub3QtdG9wJyxcbiAgICAgIGJvdHRvbSA6ICdoZWFkcm9vbS0tYm90dG9tJyxcbiAgICAgIG5vdEJvdHRvbSA6ICdoZWFkcm9vbS0tbm90LWJvdHRvbScsXG4gICAgICBpbml0aWFsIDogJ2hlYWRyb29tJ1xuICAgIH1cbiAgfTtcbiAgSGVhZHJvb20uY3V0c1RoZU11c3RhcmQgPSB0eXBlb2YgZmVhdHVyZXMgIT09ICd1bmRlZmluZWQnICYmIGZlYXR1cmVzLnJBRiAmJiBmZWF0dXJlcy5iaW5kICYmIGZlYXR1cmVzLmNsYXNzTGlzdDtcblxuICByZXR1cm4gSGVhZHJvb207XG59KSk7IiwiLyohXG4gKiBpbi12aWV3IDAuNC4zIC0gR2V0IG5vdGlmaWVkIHdoZW4gYSBET00gZWxlbWVudCBlbnRlcnMgb3IgZXhpdHMgdGhlIHZpZXdwb3J0LlxuICogQ29weXJpZ2h0IChjKSAyMDE2IENhbSBXaWVnZXJ0IDxjYW1AY2Ftd2llZ2VydC5jb20+IC0gaHR0cHM6Ly9jYW13aWVnZXJ0LmdpdGh1Yi5pby9pbi12aWV3XG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pblZpZXc9ZSgpOnQuaW5WaWV3PWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgaT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxlKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBpPW4oMyksbz1yKGkpO3QuZXhwb3J0cz1vW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPW4udG9wLGk9bi5yaWdodCxvPW4uYm90dG9tLHU9bi5sZWZ0LGY9e3Q6byxyOndpbmRvdy5pbm5lcldpZHRoLXUsYjp3aW5kb3cuaW5uZXJIZWlnaHQtcixsOml9O3JldHVybiBmLnQ+ZS50b3AmJmYucj5lLnJpZ2h0JiZmLmI+ZS5ib3R0b20mJmYubD5lLmxlZnR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5pblZpZXdwb3J0PW59LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4hIXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oOSksbz1yKGkpLHU9big0KSxmPXIodSksYz1uKDEpLHM9ZnVuY3Rpb24oKXt2YXIgdD0xMDAsZT1bXCJzY3JvbGxcIixcInJlc2l6ZVwiLFwibG9hZFwiXSxuPXtoaXN0b3J5OltdfSxyPXt9LGk9KDAsb1tcImRlZmF1bHRcIl0pKGZ1bmN0aW9uKCl7bi5oaXN0b3J5LmZvckVhY2goZnVuY3Rpb24odCl7blt0XS5jaGVjaygpfSl9LHQpO2UuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih0LGkpfSksd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJm5ldyBNdXRhdGlvbk9ic2VydmVyKGkpLm9ic2VydmUoZG9jdW1lbnQuYm9keSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pO3ZhciB1PWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT1bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCkpO3JldHVybiBuLmhpc3RvcnkuaW5kZXhPZih0KT4tMT9uW3RdLmVsZW1lbnRzPWU6KG5bdF09KDAsZltcImRlZmF1bHRcIl0pKGUsciksbi5oaXN0b3J5LnB1c2godCkpLG5bdF19fTtyZXR1cm4gdS5vZmZzZXQ9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dClyZXR1cm4gcjt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdH07cmV0dXJuW1widG9wXCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJsZWZ0XCJdLmZvckVhY2goZSh0KT9mdW5jdGlvbihlKXtyZXR1cm4gcltlXT10fTpmdW5jdGlvbihuKXtyZXR1cm4gZSh0W25dKT9yW25dPXRbbl06bnVsbH0pLHJ9LHUuaXM9ZnVuY3Rpb24odCl7cmV0dXJuKDAsYy5pblZpZXdwb3J0KSh0LHIpfSx1Lm9mZnNldCgwKSx1fTtlW1wiZGVmYXVsdFwiXT1zKCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLG89bigxKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3IodGhpcyx0KSx0aGlzLm9mZnNldD1uLHRoaXMuY3VycmVudD1bXSx0aGlzLmVsZW1lbnRzPWUsdGhpcy5oYW5kbGVycz17ZW50ZXI6W10sZXhpdDpbXX0sdGhpcy5zaW5nbGVzPXtlbnRlcjpbXSxleGl0OltdfX1yZXR1cm4gaSh0LFt7a2V5OlwiY2hlY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj0oMCxvLmluVmlld3BvcnQpKGUsdC5vZmZzZXQpLHI9dC5jdXJyZW50LmluZGV4T2YoZSksaT1yPi0xLHU9biYmIWksZj0hbiYmaTt1JiYodC5jdXJyZW50LnB1c2goZSksdC5lbWl0KFwiZW50ZXJcIixlKSksZiYmKHQuY3VycmVudC5zcGxpY2UociwxKSx0LmVtaXQoXCJleGl0XCIsZSkpfSksdGhpc319LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFuZGxlcnNbdF0ucHVzaChlKSx0aGlzfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNpbmdsZXNbdF0udW5zaGlmdChlKSx0aGlzfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcig7dGhpcy5zaW5nbGVzW3RdLmxlbmd0aDspdGhpcy5zaW5nbGVzW3RdLnBvcCgpKGUpO2Zvcih2YXIgbj10aGlzLmhhbmRsZXJzW3RdLmxlbmd0aDstLW4+LTE7KXRoaXMuaGFuZGxlcnNbdF1bbl0oZSk7cmV0dXJuIHRoaXN9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHUodCxlKX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNSksaT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbz1yfHxpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtmdW5jdGlvbiByKGUpe3ZhciBuPW0scj14O3JldHVybiBtPXg9dm9pZCAwLEU9ZSx3PXQuYXBwbHkocixuKX1mdW5jdGlvbiBhKHQpe3JldHVybiBFPXQsaj1zZXRUaW1lb3V0KGgsZSksXz9yKHQpOnd9ZnVuY3Rpb24gbCh0KXt2YXIgbj10LU8scj10LUUsaT1lLW47cmV0dXJuIE0/cyhpLGctcik6aX1mdW5jdGlvbiBkKHQpe3ZhciBuPXQtTyxyPXQtRTtyZXR1cm4gdm9pZCAwPT09T3x8bj49ZXx8bjwwfHxNJiZyPj1nfWZ1bmN0aW9uIGgoKXt2YXIgdD1vKCk7cmV0dXJuIGQodCk/cCh0KTp2b2lkKGo9c2V0VGltZW91dChoLGwodCkpKX1mdW5jdGlvbiBwKHQpe3JldHVybiBqPXZvaWQgMCxUJiZtP3IodCk6KG09eD12b2lkIDAsdyl9ZnVuY3Rpb24gdigpe3ZvaWQgMCE9PWomJmNsZWFyVGltZW91dChqKSxFPTAsbT1PPXg9aj12b2lkIDB9ZnVuY3Rpb24geSgpe3JldHVybiB2b2lkIDA9PT1qP3c6cChvKCkpfWZ1bmN0aW9uIGIoKXt2YXIgdD1vKCksbj1kKHQpO2lmKG09YXJndW1lbnRzLHg9dGhpcyxPPXQsbil7aWYodm9pZCAwPT09ailyZXR1cm4gYShPKTtpZihNKXJldHVybiBqPXNldFRpbWVvdXQoaCxlKSxyKE8pfXJldHVybiB2b2lkIDA9PT1qJiYoaj1zZXRUaW1lb3V0KGgsZSkpLHd9dmFyIG0seCxnLHcsaixPLEU9MCxfPSExLE09ITEsVD0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoZik7cmV0dXJuIGU9dShlKXx8MCxpKG4pJiYoXz0hIW4ubGVhZGluZyxNPVwibWF4V2FpdFwiaW4gbixnPU0/Yyh1KG4ubWF4V2FpdCl8fDAsZSk6ZyxUPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOlQpLGIuY2FuY2VsPXYsYi5mbHVzaD15LGJ9dmFyIGk9bigyKSxvPW4oOCksdT1uKDEwKSxmPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGM9TWF0aC5tYXgscz1NYXRoLm1pbjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksaT1mdW5jdGlvbigpe3JldHVybiByLkRhdGUubm93KCl9O3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9ITAsZj0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IodSk7cmV0dXJuIG8obikmJihyPVwibGVhZGluZ1wiaW4gbj8hIW4ubGVhZGluZzpyLGY9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6ZiksaSh0LGUse2xlYWRpbmc6cixtYXhXYWl0OmUsdHJhaWxpbmc6Zn0pfXZhciBpPW4oNyksbz1uKDIpLHU9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCI7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH10LmV4cG9ydHM9bn1dKX0pOyIsImltcG9ydCBBcHBDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9BcHBDb250cm9sbGVyJztcblxubmV3IEFwcENvbnRyb2xsZXIoKTtcbiIsImltcG9ydCBSb3V0ZXJNb2R1bGUgZnJvbSAnLi4vbW9kdWxlcy9yb3V0ZXInO1xuaW1wb3J0IEFydGljbGVDb250cm9sbGVyIGZyb20gJy4vQXJ0aWNsZUNvbnRyb2xsZXInO1xuaW1wb3J0IGluVmlldyBmcm9tICdpbi12aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwQ29udHJvbGxlciB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuaW5pdCgpO1xuXHRcdHRoaXMucm91dGVzKCk7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdC8vIExhenkgbG9hZCBiYWNrZ3JvdW5kc1xuXHRcdGluVmlldygnW2RhdGEtbGF6eS1iZ10nKVxuXHRcdFx0Lm9uKCdlbnRlcicsIGVsID0+IHRoaXMucmVwbGFjZUJnKGVsKSk7XG5cdH1cblxuXHRyb3V0ZXMoKSB7XG5cdFx0bmV3IFJvdXRlck1vZHVsZSgnYXJ0aWNsZXMnLCBBcnRpY2xlQ29udHJvbGxlcik7XG5cdH1cblxuXHRyZXBsYWNlQmcodGFyZ2V0KSB7XG5cdFx0dmFyIGRhdGEgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWxhenktYmcnKTtcblx0XHR0YXJnZXQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGF9YDtcblx0fVxufSIsImltcG9ydCBIZWFkcm9vbSBmcm9tICdoZWFkcm9vbS5qcy9kaXN0L2hlYWRyb29tLmpzJztcbmltcG9ydCBpblZpZXcgZnJvbSAnaW4tdmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFydGljbGVDb250cm9sbGVyIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5pbnN0YW5jaWF0ZVN0aWNreUJhcnMoKTtcblx0XHR0aGlzLnNjcm9sbFNsaWRlcigpO1xuXHR9XG5cblx0c2Nyb2xsU2xpZGVyKCkge1xuXHRcdGNvbnN0IGFydGljbGVJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmwtY29udGVudF9faW1nJyk7XG5cdFx0Y29uc3QgdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbC1hcnRpY2xlLWxheW91dF9fbGVmdF9fdmlldycpO1xuXHRcdGNvbnN0IGl0ZW1zID0gbmV3IGluVmlldygnLmZsLWNvbnRlbnRfX2ltZycpO1xuXHRcdGNvbnNvbGUubG9nKGl0ZW1zKTtcblx0XHRpdGVtc1xuXHRcdC5vbignZW50ZXInLCAoZWwsIGkpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGVsLCAnaScsIGkpXG5cdFx0XHRjb25zdCBzcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG5cdFx0XHR0aGlzLnNldFZpZXdCZyhzcmMsIHZpZXcpXG5cdFx0fSk7XG5cdH1cblxuXHRzZXRWaWV3Qmcoc3JjLCB2aWV3KSB7XG5cdFx0dmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7c3JjfSlgO1xuXHR9XG5cblx0aW5zdGFuY2lhdGVTdGlja3lCYXJzKCkge1xuXHRcdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbC1iYXIuZmwtYmFyLS10b3AnKTtcblx0XHRjb25zdCBmb290ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmwtYmFyLmZsLWJhci0tYm90dG9tJyk7XG5cdFx0Y29uc3QgaGVhZHJvb21PcHRpb25zID0ge1xuXHRcdFx0dG9sZXJhbmNlIDoge1xuXHRcdFx0XHRkb3duIDogMTAsXG5cdFx0XHRcdHVwIDogMFxuXHRcdFx0fSxcblx0XHR9O1xuXHRcdGxldCBzdGlja3lIZWFkZXIgPSBuZXcgSGVhZHJvb20oaGVhZGVyLCBoZWFkcm9vbU9wdGlvbnMpO1xuXHRcdGxldCBzdGlja3lGb290ZXIgPSBuZXcgSGVhZHJvb20oZm9vdGVyLCBoZWFkcm9vbU9wdGlvbnMpO1xuXHRcdHN0aWNreUhlYWRlci5pbml0KCk7XG5cdFx0c3RpY2t5Rm9vdGVyLmluaXQoKTtcblx0fVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlck1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yKG1hdGNoLCBtb2R1bGUpIHtcblx0XHRpZiAodGhpcy5wYXRoTWF0Y2gobWF0Y2gpKSB7XG5cdFx0XHR0aGlzLmxvYWRNb2R1bGUobW9kdWxlKTtcblx0XHR9XG5cdH1cblxuXHRwYXRoTWF0Y2gobWF0Y2gpIHtcblx0XHR2YXIgbWF0Y2hlcyA9IGZhbHNlO1xuXHRcdHZhciBwYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJyk7XG5cblx0XHRpZiAocGF0aC5sZW5ndGggPCAyKSB7XG5cdFx0XHRwYXRoID0gJy8nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoID0gcGF0aFsyXVxuXHRcdH1cblxuXHRcdGlmIChwYXRoID09PSBtYXRjaCkge1xuXHRcdFx0bWF0Y2hlcyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH1cblxuXHRsb2FkTW9kdWxlKG1vZHVsZSkge1xuXHRcdG5ldyBtb2R1bGU7XG5cdH1cbn0iXX0=
